title = "Current Development Plan"
description = "Recent Progress: `prelude-generator` Refactoring & Debugging: Successfully refactored `prelude-generator` to use `pipeline-traits` for core data structures. Resolved `tokio` runtime panics and `hf-validator` execution issues, including the \"file name too long\" error by using hash-based short IDs for temporary project directories. Implemented default `config.toml` loading and `--verify-config` argument. Successfully ran `prelude-generator` to generate Hugging Face datasets. Created `generated/hf_dataset_output/mapping.toml` to map original file paths to their generated short IDs. Improved the formatting of the AST Node Type Report for better readability. AST Statistics Generation: Implemented statistical analysis of AST nodes from the generated Hugging Face dataset. Generated a Rust code file (`generated/ast_statistics.rs`) containing these statistics as a `static` `AstStatistics` struct. `ast-stats-crate` Creation: Created a new isolated crate (`generated/crates/ast-stats-crate`) to house the generated `AST_STATISTICS`. Configured `ast-stats-crate` to correctly depend on `once_cell` and `pipeline-traits`. Successfully built `ast-stats-crate`. `pipeline-traits` Refactoring for `Info` Variants: Refactored all `_info.rs` files in `pipeline-traits/src/use_statement_types/` to define `Details` enums with `Info` variants and corresponding `Info` structs. Updated `pipeline-traits/src/use_statement_types/mod.rs` and `pipeline-traits/src/lib.rs` to correctly re-export the new traits. Updated `prelude-generator/src/prelude_category_pipeline/prelude_category_pipeline_impls/classify_uses_functor.rs` to use the new enum and struct fields with a basic heuristic for classification. `rust-system-composer` Refactoring for Per-File Project Generation: Refactored `rust-system-composer` to act as an orchestrator for generating self-contained Rust projects from expanded `.rs` files. It now iterates through input `.rs` files, creates a new project directory for each, generates a `Cargo.toml` (including `[workspace]` and `split-expanded-lib` dependency), calls `split_expanded_lib` to extract declarations, writes these declarations to the project's `src/` directory, generates `src/lib.rs` with `pub mod` statements, and updates `Cargo.toml` for `proc-macro = true` if necessary. Successfully compiled `rust-system-composer` after addressing `Cargo.toml` content generation and `use` statement issues. Successfully generated numerous per-file projects. Successfully compiled a sample generated project (`Declaration_project`), confirming the correctness of the generated `Cargo.toml`, `lib.rs`, and extracted declaration files. Resolved Compilation Errors and Warnings: Fixed cyclic dependency issues between `prelude-generator` and `ast-stats-crate`. Addressed all compilation errors and warnings, including unused imports and dead code. `split-expanded-lib` Fixes and Project Regeneration: Re-introduced `required_imports` to the `Declaration` struct. Updated `Declaration::new` calls to include `required_imports`. Reinstated `FileMetadata` and its use in `extract_declarations_from_single_file`. Corrected `DeclsVisitor` implementation's structure and `DependencyVisitor` instantiations. Successfully re-ran `make regenerate-generated-projects` without compilation errors or warnings. Constant Extraction and Documentation: Created `functional_numerical_constants_storage.md` and `functional_string_constants_storage.md` to document the functional objects for numerical and string constant storage. Removed the initial helper function implementations for writing numerical and string constants from `prelude-generator/src/main.rs`, moving their conceptual documentation to the new Markdown files. Updated `functional.md` to include links to the new constant storage documentation. Functional Best Practices Review: Reviewed and consolidated functional best practices documentation, synthesizing key principles for modularity, determinism, code generation, and architectural patterns. Declaration Grouping and "Gem" Implementation: Began implementation of the "bag of words" and "coordinate grouping" functionality in `prelude-generator`. Modified `prelude-generator/src/decls_visitor.rs` and related files to support declaration analysis. Introduced `prelude-generator/gems.toml` to define primitive modules (or "gems") for the code lattice. Added `prelude-generator/src/gem_parser.rs` to parse the `gems.toml` configuration. Added and modified test files and scripts in `standalonex/` to validate the new functionality, producing artifacts like `standalonex/generated_min_decls/` and `standalonex/min_test_project/collected_errors.json`."
dependencies = []
testing_strategy = ""
associated_scripts_code = []