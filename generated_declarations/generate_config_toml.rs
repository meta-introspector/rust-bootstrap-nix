pub fn generate_config_toml (params : & ConfigParams) { let config_content = :: alloc :: __export :: must_use ({ :: alloc :: fmt :: format (format_args ! ("# Generated by configuration-nix\n\n[nix]\nnixpkgs_path = \"{0}\"\nrust_overlay_path = \"{1}\"\nconfiguration_nix_path = \"{2}\"\nrust_src_flake_path = \"{3}\"\n\n[build]\nstage = {4}\ntarget = \"{5}\"\n" , params . nixpkgs_path . to_string_lossy () , params . rust_overlay_path . to_string_lossy () , params . configuration_nix_path . to_string_lossy () , params . rust_src_flake_path . to_string_lossy () , params . stage , params . target ,) ,) }) ; let config_file_path = "config.toml" . to_string () ; fs :: write (& config_file_path , config_content) . unwrap () ; }