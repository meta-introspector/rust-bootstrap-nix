pub mod config_parser { use serde :: Deserialize ; use std :: path :: PathBuf ; use anyhow :: { Result , Context } ; use std :: collections :: HashMap ; pub struct NixConfig { pub nixpkgs_path : Option < String > , pub rust_overlay_path : Option < String > , pub rust_bootstrap_nix_path : Option < String > , pub configuration_nix_path : Option < String > , pub rust_src_flake_path : Option < PathBuf > , pub rust_bootstrap_nix_flake_ref : Option < String > , pub rust_src_flake_ref : Option < String > , } # [automatically_derived] impl :: core :: fmt :: Debug for NixConfig { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { let names : & 'static _ = & ["nixpkgs_path" , "rust_overlay_path" , "rust_bootstrap_nix_path" , "configuration_nix_path" , "rust_src_flake_path" , "rust_bootstrap_nix_flake_ref" , "rust_src_flake_ref" ,] ; let values : & [& dyn :: core :: fmt :: Debug] = & [& self . nixpkgs_path , & self . rust_overlay_path , & self . rust_bootstrap_nix_path , & self . configuration_nix_path , & self . rust_src_flake_path , & self . rust_bootstrap_nix_flake_ref , & & self . rust_src_flake_ref ,] ; :: core :: fmt :: Formatter :: debug_struct_fields_finish (f , "NixConfig" , names , values ,) } } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for NixConfig { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field { __field0 , __field1 , __field2 , __field3 , __field4 , __field5 , __field6 , __ignore , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { 0u64 => _serde :: __private228 :: Ok (__Field :: __field0) , 1u64 => _serde :: __private228 :: Ok (__Field :: __field1) , 2u64 => _serde :: __private228 :: Ok (__Field :: __field2) , 3u64 => _serde :: __private228 :: Ok (__Field :: __field3) , 4u64 => _serde :: __private228 :: Ok (__Field :: __field4) , 5u64 => _serde :: __private228 :: Ok (__Field :: __field5) , 6u64 => _serde :: __private228 :: Ok (__Field :: __field6) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "nixpkgs_path" => _serde :: __private228 :: Ok (__Field :: __field0) , "rust_overlay_path" => { _serde :: __private228 :: Ok (__Field :: __field1) } "rust_bootstrap_nix_path" => { _serde :: __private228 :: Ok (__Field :: __field2) } "configuration_nix_path" => { _serde :: __private228 :: Ok (__Field :: __field3) } "rust_src_flake_path" => { _serde :: __private228 :: Ok (__Field :: __field4) } "rust_bootstrap_nix_flake_ref" => { _serde :: __private228 :: Ok (__Field :: __field5) } "rust_src_flake_ref" => { _serde :: __private228 :: Ok (__Field :: __field6) } _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"nixpkgs_path" => { _serde :: __private228 :: Ok (__Field :: __field0) } b"rust_overlay_path" => { _serde :: __private228 :: Ok (__Field :: __field1) } b"rust_bootstrap_nix_path" => { _serde :: __private228 :: Ok (__Field :: __field2) } b"configuration_nix_path" => { _serde :: __private228 :: Ok (__Field :: __field3) } b"rust_src_flake_path" => { _serde :: __private228 :: Ok (__Field :: __field4) } b"rust_bootstrap_nix_flake_ref" => { _serde :: __private228 :: Ok (__Field :: __field5) } b"rust_src_flake_ref" => { _serde :: __private228 :: Ok (__Field :: __field6) } _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < NixConfig > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = NixConfig ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct NixConfig" ,) } # [inline] fn visit_seq < __A > (self , mut __seq : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: SeqAccess < 'de > , { let __field0 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (0usize , & "struct NixConfig with 7 elements" ,) ,) ; } } ; let __field1 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (1usize , & "struct NixConfig with 7 elements" ,) ,) ; } } ; let __field2 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (2usize , & "struct NixConfig with 7 elements" ,) ,) ; } } ; let __field3 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (3usize , & "struct NixConfig with 7 elements" ,) ,) ; } } ; let __field4 = match _serde :: de :: SeqAccess :: next_element :: < Option < PathBuf > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (4usize , & "struct NixConfig with 7 elements" ,) ,) ; } } ; let __field5 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (5usize , & "struct NixConfig with 7 elements" ,) ,) ; } } ; let __field6 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (6usize , & "struct NixConfig with 7 elements" ,) ,) ; } } ; _serde :: __private228 :: Ok (NixConfig { nixpkgs_path : __field0 , rust_overlay_path : __field1 , rust_bootstrap_nix_path : __field2 , configuration_nix_path : __field3 , rust_src_flake_path : __field4 , rust_bootstrap_nix_flake_ref : __field5 , rust_src_flake_ref : __field6 , }) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __field0 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field1 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field2 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field3 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field4 : _serde :: __private228 :: Option < Option < PathBuf > , > = _serde :: __private228 :: None ; let mut __field5 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field6 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __field0 => { if _serde :: __private228 :: Option :: is_some (& __field0) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("nixpkgs_path" ,) ,) ; } __field0 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field1 => { if _serde :: __private228 :: Option :: is_some (& __field1) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("rust_overlay_path" ,) ,) ; } __field1 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field2 => { if _serde :: __private228 :: Option :: is_some (& __field2) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("rust_bootstrap_nix_path" ,) ,) ; } __field2 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field3 => { if _serde :: __private228 :: Option :: is_some (& __field3) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("configuration_nix_path" ,) ,) ; } __field3 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field4 => { if _serde :: __private228 :: Option :: is_some (& __field4) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("rust_src_flake_path" ,) ,) ; } __field4 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < PathBuf > , > (& mut __map) ? ,) ; } __Field :: __field5 => { if _serde :: __private228 :: Option :: is_some (& __field5) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("rust_bootstrap_nix_flake_ref" ,) ,) ; } __field5 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field6 => { if _serde :: __private228 :: Option :: is_some (& __field6) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("rust_src_flake_ref" ,) ,) ; } __field6 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } _ => { let _ = _serde :: de :: MapAccess :: next_value :: < _serde :: de :: IgnoredAny , > (& mut __map) ? ; } } } let __field0 = match __field0 { _serde :: __private228 :: Some (__field0) => __field0 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("nixpkgs_path") ? } } ; let __field1 = match __field1 { _serde :: __private228 :: Some (__field1) => __field1 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("rust_overlay_path" ,) ? } } ; let __field2 = match __field2 { _serde :: __private228 :: Some (__field2) => __field2 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("rust_bootstrap_nix_path" ,) ? } } ; let __field3 = match __field3 { _serde :: __private228 :: Some (__field3) => __field3 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("configuration_nix_path" ,) ? } } ; let __field4 = match __field4 { _serde :: __private228 :: Some (__field4) => __field4 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("rust_src_flake_path" ,) ? } } ; let __field5 = match __field5 { _serde :: __private228 :: Some (__field5) => __field5 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("rust_bootstrap_nix_flake_ref" ,) ? } } ; let __field6 = match __field6 { _serde :: __private228 :: Some (__field6) => __field6 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("rust_src_flake_ref" ,) ? } } ; _serde :: __private228 :: Ok (NixConfig { nixpkgs_path : __field0 , rust_overlay_path : __field1 , rust_bootstrap_nix_path : __field2 , configuration_nix_path : __field3 , rust_src_flake_path : __field4 , rust_bootstrap_nix_flake_ref : __field5 , rust_src_flake_ref : __field6 , }) } } # [doc (hidden)] const FIELDS : & 'static [& 'static str] = & ["nixpkgs_path" , "rust_overlay_path" , "rust_bootstrap_nix_path" , "configuration_nix_path" , "rust_src_flake_path" , "rust_bootstrap_nix_flake_ref" , "rust_src_flake_ref" ,] ; _serde :: Deserializer :: deserialize_struct (__deserializer , "NixConfig" , FIELDS , __Visitor { marker : _serde :: __private228 :: PhantomData :: < NixConfig > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: clone :: Clone for NixConfig { # [inline] fn clone (& self) -> NixConfig { NixConfig { nixpkgs_path : :: core :: clone :: Clone :: clone (& self . nixpkgs_path) , rust_overlay_path : :: core :: clone :: Clone :: clone (& self . rust_overlay_path) , rust_bootstrap_nix_path : :: core :: clone :: Clone :: clone (& self . rust_bootstrap_nix_path ,) , configuration_nix_path : :: core :: clone :: Clone :: clone (& self . configuration_nix_path ,) , rust_src_flake_path : :: core :: clone :: Clone :: clone (& self . rust_src_flake_path ,) , rust_bootstrap_nix_flake_ref : :: core :: clone :: Clone :: clone (& self . rust_bootstrap_nix_flake_ref ,) , rust_src_flake_ref : :: core :: clone :: Clone :: clone (& self . rust_src_flake_ref) , } } } pub struct RustConfig { pub rustc : Option < String > , pub cargo : Option < String > , pub channel : Option < String > , # [serde (rename = "download-rustc")] pub download_rustc : Option < bool > , # [serde (rename = "parallel-compiler")] pub parallel_compiler : Option < bool > , # [serde (rename = "llvm-tools")] pub llvm_tools : Option < bool > , # [serde (rename = "debuginfo-level")] pub debuginfo_level : Option < usize > , } # [automatically_derived] impl :: core :: fmt :: Debug for RustConfig { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { let names : & 'static _ = & ["rustc" , "cargo" , "channel" , "download_rustc" , "parallel_compiler" , "llvm_tools" , "debuginfo_level" ,] ; let values : & [& dyn :: core :: fmt :: Debug] = & [& self . rustc , & self . cargo , & self . channel , & self . download_rustc , & self . parallel_compiler , & self . llvm_tools , & & self . debuginfo_level ,] ; :: core :: fmt :: Formatter :: debug_struct_fields_finish (f , "RustConfig" , names , values ,) } } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for RustConfig { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field { __field0 , __field1 , __field2 , __field3 , __field4 , __field5 , __field6 , __ignore , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { 0u64 => _serde :: __private228 :: Ok (__Field :: __field0) , 1u64 => _serde :: __private228 :: Ok (__Field :: __field1) , 2u64 => _serde :: __private228 :: Ok (__Field :: __field2) , 3u64 => _serde :: __private228 :: Ok (__Field :: __field3) , 4u64 => _serde :: __private228 :: Ok (__Field :: __field4) , 5u64 => _serde :: __private228 :: Ok (__Field :: __field5) , 6u64 => _serde :: __private228 :: Ok (__Field :: __field6) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "rustc" => _serde :: __private228 :: Ok (__Field :: __field0) , "cargo" => _serde :: __private228 :: Ok (__Field :: __field1) , "channel" => _serde :: __private228 :: Ok (__Field :: __field2) , "download-rustc" => { _serde :: __private228 :: Ok (__Field :: __field3) } "parallel-compiler" => { _serde :: __private228 :: Ok (__Field :: __field4) } "llvm-tools" => _serde :: __private228 :: Ok (__Field :: __field5) , "debuginfo-level" => { _serde :: __private228 :: Ok (__Field :: __field6) } _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"rustc" => _serde :: __private228 :: Ok (__Field :: __field0) , b"cargo" => _serde :: __private228 :: Ok (__Field :: __field1) , b"channel" => _serde :: __private228 :: Ok (__Field :: __field2) , b"download-rustc" => { _serde :: __private228 :: Ok (__Field :: __field3) } b"parallel-compiler" => { _serde :: __private228 :: Ok (__Field :: __field4) } b"llvm-tools" => _serde :: __private228 :: Ok (__Field :: __field5) , b"debuginfo-level" => { _serde :: __private228 :: Ok (__Field :: __field6) } _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < RustConfig > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = RustConfig ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct RustConfig" ,) } # [inline] fn visit_seq < __A > (self , mut __seq : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: SeqAccess < 'de > , { let __field0 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (0usize , & "struct RustConfig with 7 elements" ,) ,) ; } } ; let __field1 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (1usize , & "struct RustConfig with 7 elements" ,) ,) ; } } ; let __field2 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (2usize , & "struct RustConfig with 7 elements" ,) ,) ; } } ; let __field3 = match _serde :: de :: SeqAccess :: next_element :: < Option < bool > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (3usize , & "struct RustConfig with 7 elements" ,) ,) ; } } ; let __field4 = match _serde :: de :: SeqAccess :: next_element :: < Option < bool > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (4usize , & "struct RustConfig with 7 elements" ,) ,) ; } } ; let __field5 = match _serde :: de :: SeqAccess :: next_element :: < Option < bool > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (5usize , & "struct RustConfig with 7 elements" ,) ,) ; } } ; let __field6 = match _serde :: de :: SeqAccess :: next_element :: < Option < usize > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (6usize , & "struct RustConfig with 7 elements" ,) ,) ; } } ; _serde :: __private228 :: Ok (RustConfig { rustc : __field0 , cargo : __field1 , channel : __field2 , download_rustc : __field3 , parallel_compiler : __field4 , llvm_tools : __field5 , debuginfo_level : __field6 , }) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __field0 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field1 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field2 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field3 : _serde :: __private228 :: Option < Option < bool > > = _serde :: __private228 :: None ; let mut __field4 : _serde :: __private228 :: Option < Option < bool > > = _serde :: __private228 :: None ; let mut __field5 : _serde :: __private228 :: Option < Option < bool > > = _serde :: __private228 :: None ; let mut __field6 : _serde :: __private228 :: Option < Option < usize > > = _serde :: __private228 :: None ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __field0 => { if _serde :: __private228 :: Option :: is_some (& __field0) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("rustc") ,) ; } __field0 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field1 => { if _serde :: __private228 :: Option :: is_some (& __field1) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("cargo") ,) ; } __field1 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field2 => { if _serde :: __private228 :: Option :: is_some (& __field2) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("channel" ,) ,) ; } __field2 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field3 => { if _serde :: __private228 :: Option :: is_some (& __field3) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("download-rustc" ,) ,) ; } __field3 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < bool > , > (& mut __map) ? ,) ; } __Field :: __field4 => { if _serde :: __private228 :: Option :: is_some (& __field4) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("parallel-compiler" ,) ,) ; } __field4 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < bool > , > (& mut __map) ? ,) ; } __Field :: __field5 => { if _serde :: __private228 :: Option :: is_some (& __field5) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("llvm-tools" ,) ,) ; } __field5 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < bool > , > (& mut __map) ? ,) ; } __Field :: __field6 => { if _serde :: __private228 :: Option :: is_some (& __field6) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("debuginfo-level" ,) ,) ; } __field6 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < usize > , > (& mut __map) ? ,) ; } _ => { let _ = _serde :: de :: MapAccess :: next_value :: < _serde :: de :: IgnoredAny , > (& mut __map) ? ; } } } let __field0 = match __field0 { _serde :: __private228 :: Some (__field0) => __field0 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("rustc") ? } } ; let __field1 = match __field1 { _serde :: __private228 :: Some (__field1) => __field1 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("cargo") ? } } ; let __field2 = match __field2 { _serde :: __private228 :: Some (__field2) => __field2 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("channel") ? } } ; let __field3 = match __field3 { _serde :: __private228 :: Some (__field3) => __field3 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("download-rustc") ? } } ; let __field4 = match __field4 { _serde :: __private228 :: Some (__field4) => __field4 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("parallel-compiler" ,) ? } } ; let __field5 = match __field5 { _serde :: __private228 :: Some (__field5) => __field5 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("llvm-tools") ? } } ; let __field6 = match __field6 { _serde :: __private228 :: Some (__field6) => __field6 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("debuginfo-level") ? } } ; _serde :: __private228 :: Ok (RustConfig { rustc : __field0 , cargo : __field1 , channel : __field2 , download_rustc : __field3 , parallel_compiler : __field4 , llvm_tools : __field5 , debuginfo_level : __field6 , }) } } # [doc (hidden)] const FIELDS : & 'static [& 'static str] = & ["rustc" , "cargo" , "channel" , "download-rustc" , "parallel-compiler" , "llvm-tools" , "debuginfo-level" ,] ; _serde :: Deserializer :: deserialize_struct (__deserializer , "RustConfig" , FIELDS , __Visitor { marker : _serde :: __private228 :: PhantomData :: < RustConfig > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: clone :: Clone for RustConfig { # [inline] fn clone (& self) -> RustConfig { RustConfig { rustc : :: core :: clone :: Clone :: clone (& self . rustc) , cargo : :: core :: clone :: Clone :: clone (& self . cargo) , channel : :: core :: clone :: Clone :: clone (& self . channel) , download_rustc : :: core :: clone :: Clone :: clone (& self . download_rustc) , parallel_compiler : :: core :: clone :: Clone :: clone (& self . parallel_compiler) , llvm_tools : :: core :: clone :: Clone :: clone (& self . llvm_tools) , debuginfo_level : :: core :: clone :: Clone :: clone (& self . debuginfo_level) , } } } pub struct BuildConfig { pub stage : Option < String > , pub target : Option < String > , # [serde (rename = "patch-binaries-for-nix")] pub patch_binaries_for_nix : Option < bool > , pub vendor : Option < bool > , # [serde (rename = "build-dir")] pub build_dir : Option < String > , pub jobs : Option < usize > , } # [automatically_derived] impl :: core :: fmt :: Debug for BuildConfig { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { let names : & 'static _ = & ["stage" , "target" , "patch_binaries_for_nix" , "vendor" , "build_dir" , "jobs" ,] ; let values : & [& dyn :: core :: fmt :: Debug] = & [& self . stage , & self . target , & self . patch_binaries_for_nix , & self . vendor , & self . build_dir , & & self . jobs ,] ; :: core :: fmt :: Formatter :: debug_struct_fields_finish (f , "BuildConfig" , names , values ,) } } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for BuildConfig { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field { __field0 , __field1 , __field2 , __field3 , __field4 , __field5 , __ignore , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { 0u64 => _serde :: __private228 :: Ok (__Field :: __field0) , 1u64 => _serde :: __private228 :: Ok (__Field :: __field1) , 2u64 => _serde :: __private228 :: Ok (__Field :: __field2) , 3u64 => _serde :: __private228 :: Ok (__Field :: __field3) , 4u64 => _serde :: __private228 :: Ok (__Field :: __field4) , 5u64 => _serde :: __private228 :: Ok (__Field :: __field5) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "stage" => _serde :: __private228 :: Ok (__Field :: __field0) , "target" => _serde :: __private228 :: Ok (__Field :: __field1) , "patch-binaries-for-nix" => { _serde :: __private228 :: Ok (__Field :: __field2) } "vendor" => _serde :: __private228 :: Ok (__Field :: __field3) , "build-dir" => _serde :: __private228 :: Ok (__Field :: __field4) , "jobs" => _serde :: __private228 :: Ok (__Field :: __field5) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"stage" => _serde :: __private228 :: Ok (__Field :: __field0) , b"target" => _serde :: __private228 :: Ok (__Field :: __field1) , b"patch-binaries-for-nix" => { _serde :: __private228 :: Ok (__Field :: __field2) } b"vendor" => _serde :: __private228 :: Ok (__Field :: __field3) , b"build-dir" => _serde :: __private228 :: Ok (__Field :: __field4) , b"jobs" => _serde :: __private228 :: Ok (__Field :: __field5) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < BuildConfig > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = BuildConfig ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct BuildConfig" ,) } # [inline] fn visit_seq < __A > (self , mut __seq : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: SeqAccess < 'de > , { let __field0 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (0usize , & "struct BuildConfig with 6 elements" ,) ,) ; } } ; let __field1 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (1usize , & "struct BuildConfig with 6 elements" ,) ,) ; } } ; let __field2 = match _serde :: de :: SeqAccess :: next_element :: < Option < bool > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (2usize , & "struct BuildConfig with 6 elements" ,) ,) ; } } ; let __field3 = match _serde :: de :: SeqAccess :: next_element :: < Option < bool > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (3usize , & "struct BuildConfig with 6 elements" ,) ,) ; } } ; let __field4 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (4usize , & "struct BuildConfig with 6 elements" ,) ,) ; } } ; let __field5 = match _serde :: de :: SeqAccess :: next_element :: < Option < usize > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (5usize , & "struct BuildConfig with 6 elements" ,) ,) ; } } ; _serde :: __private228 :: Ok (BuildConfig { stage : __field0 , target : __field1 , patch_binaries_for_nix : __field2 , vendor : __field3 , build_dir : __field4 , jobs : __field5 , }) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __field0 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field1 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field2 : _serde :: __private228 :: Option < Option < bool > > = _serde :: __private228 :: None ; let mut __field3 : _serde :: __private228 :: Option < Option < bool > > = _serde :: __private228 :: None ; let mut __field4 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field5 : _serde :: __private228 :: Option < Option < usize > > = _serde :: __private228 :: None ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __field0 => { if _serde :: __private228 :: Option :: is_some (& __field0) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("stage") ,) ; } __field0 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field1 => { if _serde :: __private228 :: Option :: is_some (& __field1) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("target") ,) ; } __field1 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field2 => { if _serde :: __private228 :: Option :: is_some (& __field2) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("patch-binaries-for-nix" ,) ,) ; } __field2 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < bool > , > (& mut __map) ? ,) ; } __Field :: __field3 => { if _serde :: __private228 :: Option :: is_some (& __field3) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("vendor") ,) ; } __field3 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < bool > , > (& mut __map) ? ,) ; } __Field :: __field4 => { if _serde :: __private228 :: Option :: is_some (& __field4) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("build-dir" ,) ,) ; } __field4 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field5 => { if _serde :: __private228 :: Option :: is_some (& __field5) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("jobs") ,) ; } __field5 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < usize > , > (& mut __map) ? ,) ; } _ => { let _ = _serde :: de :: MapAccess :: next_value :: < _serde :: de :: IgnoredAny , > (& mut __map) ? ; } } } let __field0 = match __field0 { _serde :: __private228 :: Some (__field0) => __field0 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("stage") ? } } ; let __field1 = match __field1 { _serde :: __private228 :: Some (__field1) => __field1 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("target") ? } } ; let __field2 = match __field2 { _serde :: __private228 :: Some (__field2) => __field2 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("patch-binaries-for-nix" ,) ? } } ; let __field3 = match __field3 { _serde :: __private228 :: Some (__field3) => __field3 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("vendor") ? } } ; let __field4 = match __field4 { _serde :: __private228 :: Some (__field4) => __field4 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("build-dir") ? } } ; let __field5 = match __field5 { _serde :: __private228 :: Some (__field5) => __field5 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("jobs") ? } } ; _serde :: __private228 :: Ok (BuildConfig { stage : __field0 , target : __field1 , patch_binaries_for_nix : __field2 , vendor : __field3 , build_dir : __field4 , jobs : __field5 , }) } } # [doc (hidden)] const FIELDS : & 'static [& 'static str] = & ["stage" , "target" , "patch-binaries-for-nix" , "vendor" , "build-dir" , "jobs" ,] ; _serde :: Deserializer :: deserialize_struct (__deserializer , "BuildConfig" , FIELDS , __Visitor { marker : _serde :: __private228 :: PhantomData :: < BuildConfig > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: clone :: Clone for BuildConfig { # [inline] fn clone (& self) -> BuildConfig { BuildConfig { stage : :: core :: clone :: Clone :: clone (& self . stage) , target : :: core :: clone :: Clone :: clone (& self . target) , patch_binaries_for_nix : :: core :: clone :: Clone :: clone (& self . patch_binaries_for_nix ,) , vendor : :: core :: clone :: Clone :: clone (& self . vendor) , build_dir : :: core :: clone :: Clone :: clone (& self . build_dir) , jobs : :: core :: clone :: Clone :: clone (& self . jobs) , } } } pub struct EnvConfig { # [serde (rename = "HOME")] pub home : Option < String > , # [serde (rename = "CARGO_HOME")] pub cargo_home : Option < String > , } # [automatically_derived] impl :: core :: fmt :: Debug for EnvConfig { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { :: core :: fmt :: Formatter :: debug_struct_field2_finish (f , "EnvConfig" , "home" , & self . home , "cargo_home" , & & self . cargo_home ,) } } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for EnvConfig { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field { __field0 , __field1 , __ignore , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { 0u64 => _serde :: __private228 :: Ok (__Field :: __field0) , 1u64 => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "HOME" => _serde :: __private228 :: Ok (__Field :: __field0) , "CARGO_HOME" => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"HOME" => _serde :: __private228 :: Ok (__Field :: __field0) , b"CARGO_HOME" => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < EnvConfig > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = EnvConfig ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct EnvConfig" ,) } # [inline] fn visit_seq < __A > (self , mut __seq : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: SeqAccess < 'de > , { let __field0 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (0usize , & "struct EnvConfig with 2 elements" ,) ,) ; } } ; let __field1 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (1usize , & "struct EnvConfig with 2 elements" ,) ,) ; } } ; _serde :: __private228 :: Ok (EnvConfig { home : __field0 , cargo_home : __field1 , }) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __field0 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field1 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __field0 => { if _serde :: __private228 :: Option :: is_some (& __field0) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("HOME") ,) ; } __field0 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field1 => { if _serde :: __private228 :: Option :: is_some (& __field1) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("CARGO_HOME" ,) ,) ; } __field1 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } _ => { let _ = _serde :: de :: MapAccess :: next_value :: < _serde :: de :: IgnoredAny , > (& mut __map) ? ; } } } let __field0 = match __field0 { _serde :: __private228 :: Some (__field0) => __field0 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("HOME") ? } } ; let __field1 = match __field1 { _serde :: __private228 :: Some (__field1) => __field1 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("CARGO_HOME") ? } } ; _serde :: __private228 :: Ok (EnvConfig { home : __field0 , cargo_home : __field1 , }) } } # [doc (hidden)] const FIELDS : & 'static [& 'static str] = & ["HOME" , "CARGO_HOME"] ; _serde :: Deserializer :: deserialize_struct (__deserializer , "EnvConfig" , FIELDS , __Visitor { marker : _serde :: __private228 :: PhantomData :: < EnvConfig > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: clone :: Clone for EnvConfig { # [inline] fn clone (& self) -> EnvConfig { EnvConfig { home : :: core :: clone :: Clone :: clone (& self . home) , cargo_home : :: core :: clone :: Clone :: clone (& self . cargo_home) , } } } pub struct InstallConfig { pub prefix : Option < String > , pub sysconfdir : Option < String > , } # [automatically_derived] impl :: core :: fmt :: Debug for InstallConfig { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { :: core :: fmt :: Formatter :: debug_struct_field2_finish (f , "InstallConfig" , "prefix" , & self . prefix , "sysconfdir" , & & self . sysconfdir ,) } } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for InstallConfig { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field { __field0 , __field1 , __ignore , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { 0u64 => _serde :: __private228 :: Ok (__Field :: __field0) , 1u64 => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "prefix" => _serde :: __private228 :: Ok (__Field :: __field0) , "sysconfdir" => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"prefix" => _serde :: __private228 :: Ok (__Field :: __field0) , b"sysconfdir" => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < InstallConfig > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = InstallConfig ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct InstallConfig" ,) } # [inline] fn visit_seq < __A > (self , mut __seq : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: SeqAccess < 'de > , { let __field0 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (0usize , & "struct InstallConfig with 2 elements" ,) ,) ; } } ; let __field1 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (1usize , & "struct InstallConfig with 2 elements" ,) ,) ; } } ; _serde :: __private228 :: Ok (InstallConfig { prefix : __field0 , sysconfdir : __field1 , }) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __field0 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field1 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __field0 => { if _serde :: __private228 :: Option :: is_some (& __field0) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("prefix") ,) ; } __field0 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field1 => { if _serde :: __private228 :: Option :: is_some (& __field1) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("sysconfdir" ,) ,) ; } __field1 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } _ => { let _ = _serde :: de :: MapAccess :: next_value :: < _serde :: de :: IgnoredAny , > (& mut __map) ? ; } } } let __field0 = match __field0 { _serde :: __private228 :: Some (__field0) => __field0 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("prefix") ? } } ; let __field1 = match __field1 { _serde :: __private228 :: Some (__field1) => __field1 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("sysconfdir") ? } } ; _serde :: __private228 :: Ok (InstallConfig { prefix : __field0 , sysconfdir : __field1 , }) } } # [doc (hidden)] const FIELDS : & 'static [& 'static str] = & ["prefix" , "sysconfdir"] ; _serde :: Deserializer :: deserialize_struct (__deserializer , "InstallConfig" , FIELDS , __Visitor { marker : _serde :: __private228 :: PhantomData :: < InstallConfig > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: clone :: Clone for InstallConfig { # [inline] fn clone (& self) -> InstallConfig { InstallConfig { prefix : :: core :: clone :: Clone :: clone (& self . prefix) , sysconfdir : :: core :: clone :: Clone :: clone (& self . sysconfdir) , } } } pub struct DistConfig { # [serde (rename = "sign-folder")] pub sign_folder : Option < String > , # [serde (rename = "upload-addr")] pub upload_addr : Option < String > , } # [automatically_derived] impl :: core :: fmt :: Debug for DistConfig { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { :: core :: fmt :: Formatter :: debug_struct_field2_finish (f , "DistConfig" , "sign_folder" , & self . sign_folder , "upload_addr" , & & self . upload_addr ,) } } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for DistConfig { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field { __field0 , __field1 , __ignore , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { 0u64 => _serde :: __private228 :: Ok (__Field :: __field0) , 1u64 => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "sign-folder" => _serde :: __private228 :: Ok (__Field :: __field0) , "upload-addr" => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"sign-folder" => _serde :: __private228 :: Ok (__Field :: __field0) , b"upload-addr" => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < DistConfig > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = DistConfig ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct DistConfig" ,) } # [inline] fn visit_seq < __A > (self , mut __seq : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: SeqAccess < 'de > , { let __field0 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (0usize , & "struct DistConfig with 2 elements" ,) ,) ; } } ; let __field1 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (1usize , & "struct DistConfig with 2 elements" ,) ,) ; } } ; _serde :: __private228 :: Ok (DistConfig { sign_folder : __field0 , upload_addr : __field1 , }) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __field0 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field1 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __field0 => { if _serde :: __private228 :: Option :: is_some (& __field0) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("sign-folder" ,) ,) ; } __field0 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field1 => { if _serde :: __private228 :: Option :: is_some (& __field1) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("upload-addr" ,) ,) ; } __field1 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } _ => { let _ = _serde :: de :: MapAccess :: next_value :: < _serde :: de :: IgnoredAny , > (& mut __map) ? ; } } } let __field0 = match __field0 { _serde :: __private228 :: Some (__field0) => __field0 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("sign-folder") ? } } ; let __field1 = match __field1 { _serde :: __private228 :: Some (__field1) => __field1 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("upload-addr") ? } } ; _serde :: __private228 :: Ok (DistConfig { sign_folder : __field0 , upload_addr : __field1 , }) } } # [doc (hidden)] const FIELDS : & 'static [& 'static str] = & ["sign-folder" , "upload-addr"] ; _serde :: Deserializer :: deserialize_struct (__deserializer , "DistConfig" , FIELDS , __Visitor { marker : _serde :: __private228 :: PhantomData :: < DistConfig > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: clone :: Clone for DistConfig { # [inline] fn clone (& self) -> DistConfig { DistConfig { sign_folder : :: core :: clone :: Clone :: clone (& self . sign_folder) , upload_addr : :: core :: clone :: Clone :: clone (& self . upload_addr) , } } } pub struct LlvmConfig { # [serde (rename = "download-ci-llvm")] pub download_ci_llvm : Option < bool > , pub ninja : Option < bool > , } # [automatically_derived] impl :: core :: fmt :: Debug for LlvmConfig { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { :: core :: fmt :: Formatter :: debug_struct_field2_finish (f , "LlvmConfig" , "download_ci_llvm" , & self . download_ci_llvm , "ninja" , & & self . ninja ,) } } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for LlvmConfig { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field { __field0 , __field1 , __ignore , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { 0u64 => _serde :: __private228 :: Ok (__Field :: __field0) , 1u64 => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "download-ci-llvm" => { _serde :: __private228 :: Ok (__Field :: __field0) } "ninja" => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"download-ci-llvm" => { _serde :: __private228 :: Ok (__Field :: __field0) } b"ninja" => _serde :: __private228 :: Ok (__Field :: __field1) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < LlvmConfig > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = LlvmConfig ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct LlvmConfig" ,) } # [inline] fn visit_seq < __A > (self , mut __seq : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: SeqAccess < 'de > , { let __field0 = match _serde :: de :: SeqAccess :: next_element :: < Option < bool > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (0usize , & "struct LlvmConfig with 2 elements" ,) ,) ; } } ; let __field1 = match _serde :: de :: SeqAccess :: next_element :: < Option < bool > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (1usize , & "struct LlvmConfig with 2 elements" ,) ,) ; } } ; _serde :: __private228 :: Ok (LlvmConfig { download_ci_llvm : __field0 , ninja : __field1 , }) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __field0 : _serde :: __private228 :: Option < Option < bool > > = _serde :: __private228 :: None ; let mut __field1 : _serde :: __private228 :: Option < Option < bool > > = _serde :: __private228 :: None ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __field0 => { if _serde :: __private228 :: Option :: is_some (& __field0) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("download-ci-llvm" ,) ,) ; } __field0 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < bool > , > (& mut __map) ? ,) ; } __Field :: __field1 => { if _serde :: __private228 :: Option :: is_some (& __field1) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("ninja") ,) ; } __field1 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < bool > , > (& mut __map) ? ,) ; } _ => { let _ = _serde :: de :: MapAccess :: next_value :: < _serde :: de :: IgnoredAny , > (& mut __map) ? ; } } } let __field0 = match __field0 { _serde :: __private228 :: Some (__field0) => __field0 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("download-ci-llvm") ? } } ; let __field1 = match __field1 { _serde :: __private228 :: Some (__field1) => __field1 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("ninja") ? } } ; _serde :: __private228 :: Ok (LlvmConfig { download_ci_llvm : __field0 , ninja : __field1 , }) } } # [doc (hidden)] const FIELDS : & 'static [& 'static str] = & ["download-ci-llvm" , "ninja"] ; _serde :: Deserializer :: deserialize_struct (__deserializer , "LlvmConfig" , FIELDS , __Visitor { marker : _serde :: __private228 :: PhantomData :: < LlvmConfig > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: clone :: Clone for LlvmConfig { # [inline] fn clone (& self) -> LlvmConfig { LlvmConfig { download_ci_llvm : :: core :: clone :: Clone :: clone (& self . download_ci_llvm) , ninja : :: core :: clone :: Clone :: clone (& self . ninja) , } } } pub struct ChangeIdConfig { pub id : Option < String > , } # [automatically_derived] impl :: core :: fmt :: Debug for ChangeIdConfig { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { :: core :: fmt :: Formatter :: debug_struct_field1_finish (f , "ChangeIdConfig" , "id" , & & self . id ,) } } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for ChangeIdConfig { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field { __field0 , __ignore , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { 0u64 => _serde :: __private228 :: Ok (__Field :: __field0) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "id" => _serde :: __private228 :: Ok (__Field :: __field0) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"id" => _serde :: __private228 :: Ok (__Field :: __field0) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < ChangeIdConfig > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = ChangeIdConfig ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct ChangeIdConfig" ,) } # [inline] fn visit_seq < __A > (self , mut __seq : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: SeqAccess < 'de > , { let __field0 = match _serde :: de :: SeqAccess :: next_element :: < Option < String > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (0usize , & "struct ChangeIdConfig with 1 element" ,) ,) ; } } ; _serde :: __private228 :: Ok (ChangeIdConfig { id : __field0 }) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __field0 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __field0 => { if _serde :: __private228 :: Option :: is_some (& __field0) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("id") ,) ; } __field0 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } _ => { let _ = _serde :: de :: MapAccess :: next_value :: < _serde :: de :: IgnoredAny , > (& mut __map) ? ; } } } let __field0 = match __field0 { _serde :: __private228 :: Some (__field0) => __field0 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("id") ? } } ; _serde :: __private228 :: Ok (ChangeIdConfig { id : __field0 }) } } # [doc (hidden)] const FIELDS : & 'static [& 'static str] = & ["id"] ; _serde :: Deserializer :: deserialize_struct (__deserializer , "ChangeIdConfig" , FIELDS , __Visitor { marker : _serde :: __private228 :: PhantomData :: < ChangeIdConfig > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: clone :: Clone for ChangeIdConfig { # [inline] fn clone (& self) -> ChangeIdConfig { ChangeIdConfig { id : :: core :: clone :: Clone :: clone (& self . id) , } } } pub struct BinsConfig { # [serde (flatten)] pub paths : HashMap < String , PathBuf > , } # [automatically_derived] impl :: core :: fmt :: Debug for BinsConfig { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { :: core :: fmt :: Formatter :: debug_struct_field1_finish (f , "BinsConfig" , "paths" , & & self . paths ,) } } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for BinsConfig { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field < 'de > { __other (_serde :: __private228 :: de :: Content < 'de >) , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field < 'de > ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_bool < __E > (self , __value : bool ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: Bool (__value) ,) ,) } fn visit_i8 < __E > (self , __value : i8 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: I8 (__value) ,) ,) } fn visit_i16 < __E > (self , __value : i16 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: I16 (__value) ,) ,) } fn visit_i32 < __E > (self , __value : i32 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: I32 (__value) ,) ,) } fn visit_i64 < __E > (self , __value : i64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: I64 (__value) ,) ,) } fn visit_u8 < __E > (self , __value : u8 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: U8 (__value) ,) ,) } fn visit_u16 < __E > (self , __value : u16 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: U16 (__value) ,) ,) } fn visit_u32 < __E > (self , __value : u32 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: U32 (__value) ,) ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: U64 (__value) ,) ,) } fn visit_f32 < __E > (self , __value : f32 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: F32 (__value) ,) ,) } fn visit_f64 < __E > (self , __value : f64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: F64 (__value) ,) ,) } fn visit_char < __E > (self , __value : char ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: Char (__value) ,) ,) } fn visit_unit < __E > (self ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: Unit) ,) } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { _ => { let __value = _serde :: __private228 :: de :: Content :: String (_serde :: __private228 :: ToString :: to_string (__value) ,) ; _serde :: __private228 :: Ok (__Field :: __other (__value)) } } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { _ => { let __value = _serde :: __private228 :: de :: Content :: ByteBuf (__value . to_vec () ,) ; _serde :: __private228 :: Ok (__Field :: __other (__value)) } } } fn visit_borrowed_str < __E > (self , __value : & 'de str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { _ => { let __value = _serde :: __private228 :: de :: Content :: Str (__value ,) ; _serde :: __private228 :: Ok (__Field :: __other (__value)) } } } fn visit_borrowed_bytes < __E > (self , __value : & 'de [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { _ => { let __value = _serde :: __private228 :: de :: Content :: Bytes (__value ,) ; _serde :: __private228 :: Ok (__Field :: __other (__value)) } } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field < 'de > { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < BinsConfig > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = BinsConfig ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct BinsConfig" ,) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __collect = _serde :: __private228 :: Vec :: < _serde :: __private228 :: Option < (_serde :: __private228 :: de :: Content , _serde :: __private228 :: de :: Content ,) , > , > :: new () ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __other (__name) => { __collect . push (_serde :: __private228 :: Some ((__name , _serde :: de :: MapAccess :: next_value_seed (& mut __map , _serde :: __private228 :: de :: ContentVisitor :: new () ,) ? ,)) ,) ; } } } let __field0 : HashMap < String , PathBuf > = _serde :: de :: Deserialize :: deserialize (_serde :: __private228 :: de :: FlatMapDeserializer (& mut __collect , _serde :: __private228 :: PhantomData ,) ,) ? ; _serde :: __private228 :: Ok (BinsConfig { paths : __field0 }) } } _serde :: Deserializer :: deserialize_map (__deserializer , __Visitor { marker : _serde :: __private228 :: PhantomData :: < BinsConfig > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: clone :: Clone for BinsConfig { # [inline] fn clone (& self) -> BinsConfig { BinsConfig { paths : :: core :: clone :: Clone :: clone (& self . paths) , } } } pub struct Config { # [serde (default)] pub nix : Option < NixConfig > , # [serde (default)] pub rust : Option < RustConfig > , # [serde (default)] pub build : Option < BuildConfig > , # [serde (default)] pub env : Option < EnvConfig > , # [serde (default)] pub install : Option < InstallConfig > , # [serde (default)] pub dist : Option < DistConfig > , # [serde (default)] pub llvm : Option < LlvmConfig > , # [serde (default , rename = "change-id")] pub change_id : Option < ChangeIdConfig > , # [serde (default)] pub bins : Option < BinsConfig > , } # [automatically_derived] impl :: core :: fmt :: Debug for Config { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { let names : & 'static _ = & ["nix" , "rust" , "build" , "env" , "install" , "dist" , "llvm" , "change_id" , "bins" ,] ; let values : & [& dyn :: core :: fmt :: Debug] = & [& self . nix , & self . rust , & self . build , & self . env , & self . install , & self . dist , & self . llvm , & self . change_id , & & self . bins ,] ; :: core :: fmt :: Formatter :: debug_struct_fields_finish (f , "Config" , names , values ,) } } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for Config { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field { __field0 , __field1 , __field2 , __field3 , __field4 , __field5 , __field6 , __field7 , __field8 , __ignore , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { 0u64 => _serde :: __private228 :: Ok (__Field :: __field0) , 1u64 => _serde :: __private228 :: Ok (__Field :: __field1) , 2u64 => _serde :: __private228 :: Ok (__Field :: __field2) , 3u64 => _serde :: __private228 :: Ok (__Field :: __field3) , 4u64 => _serde :: __private228 :: Ok (__Field :: __field4) , 5u64 => _serde :: __private228 :: Ok (__Field :: __field5) , 6u64 => _serde :: __private228 :: Ok (__Field :: __field6) , 7u64 => _serde :: __private228 :: Ok (__Field :: __field7) , 8u64 => _serde :: __private228 :: Ok (__Field :: __field8) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "nix" => _serde :: __private228 :: Ok (__Field :: __field0) , "rust" => _serde :: __private228 :: Ok (__Field :: __field1) , "build" => _serde :: __private228 :: Ok (__Field :: __field2) , "env" => _serde :: __private228 :: Ok (__Field :: __field3) , "install" => _serde :: __private228 :: Ok (__Field :: __field4) , "dist" => _serde :: __private228 :: Ok (__Field :: __field5) , "llvm" => _serde :: __private228 :: Ok (__Field :: __field6) , "change-id" => _serde :: __private228 :: Ok (__Field :: __field7) , "bins" => _serde :: __private228 :: Ok (__Field :: __field8) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"nix" => _serde :: __private228 :: Ok (__Field :: __field0) , b"rust" => _serde :: __private228 :: Ok (__Field :: __field1) , b"build" => _serde :: __private228 :: Ok (__Field :: __field2) , b"env" => _serde :: __private228 :: Ok (__Field :: __field3) , b"install" => _serde :: __private228 :: Ok (__Field :: __field4) , b"dist" => _serde :: __private228 :: Ok (__Field :: __field5) , b"llvm" => _serde :: __private228 :: Ok (__Field :: __field6) , b"change-id" => _serde :: __private228 :: Ok (__Field :: __field7) , b"bins" => _serde :: __private228 :: Ok (__Field :: __field8) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < Config > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = Config ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct Config" ,) } # [inline] fn visit_seq < __A > (self , mut __seq : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: SeqAccess < 'de > , { let __field0 = match _serde :: de :: SeqAccess :: next_element :: < Option < NixConfig > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field1 = match _serde :: de :: SeqAccess :: next_element :: < Option < RustConfig > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field2 = match _serde :: de :: SeqAccess :: next_element :: < Option < BuildConfig > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field3 = match _serde :: de :: SeqAccess :: next_element :: < Option < EnvConfig > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field4 = match _serde :: de :: SeqAccess :: next_element :: < Option < InstallConfig > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field5 = match _serde :: de :: SeqAccess :: next_element :: < Option < DistConfig > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field6 = match _serde :: de :: SeqAccess :: next_element :: < Option < LlvmConfig > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field7 = match _serde :: de :: SeqAccess :: next_element :: < Option < ChangeIdConfig > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field8 = match _serde :: de :: SeqAccess :: next_element :: < Option < BinsConfig > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; _serde :: __private228 :: Ok (Config { nix : __field0 , rust : __field1 , build : __field2 , env : __field3 , install : __field4 , dist : __field5 , llvm : __field6 , change_id : __field7 , bins : __field8 , }) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __field0 : _serde :: __private228 :: Option < Option < NixConfig > , > = _serde :: __private228 :: None ; let mut __field1 : _serde :: __private228 :: Option < Option < RustConfig > , > = _serde :: __private228 :: None ; let mut __field2 : _serde :: __private228 :: Option < Option < BuildConfig > , > = _serde :: __private228 :: None ; let mut __field3 : _serde :: __private228 :: Option < Option < EnvConfig > , > = _serde :: __private228 :: None ; let mut __field4 : _serde :: __private228 :: Option < Option < InstallConfig > , > = _serde :: __private228 :: None ; let mut __field5 : _serde :: __private228 :: Option < Option < DistConfig > , > = _serde :: __private228 :: None ; let mut __field6 : _serde :: __private228 :: Option < Option < LlvmConfig > , > = _serde :: __private228 :: None ; let mut __field7 : _serde :: __private228 :: Option < Option < ChangeIdConfig > , > = _serde :: __private228 :: None ; let mut __field8 : _serde :: __private228 :: Option < Option < BinsConfig > , > = _serde :: __private228 :: None ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __field0 => { if _serde :: __private228 :: Option :: is_some (& __field0) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("nix") ,) ; } __field0 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < NixConfig > , > (& mut __map) ? ,) ; } __Field :: __field1 => { if _serde :: __private228 :: Option :: is_some (& __field1) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("rust") ,) ; } __field1 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < RustConfig > , > (& mut __map) ? ,) ; } __Field :: __field2 => { if _serde :: __private228 :: Option :: is_some (& __field2) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("build") ,) ; } __field2 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < BuildConfig > , > (& mut __map) ? ,) ; } __Field :: __field3 => { if _serde :: __private228 :: Option :: is_some (& __field3) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("env") ,) ; } __field3 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < EnvConfig > , > (& mut __map) ? ,) ; } __Field :: __field4 => { if _serde :: __private228 :: Option :: is_some (& __field4) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("install" ,) ,) ; } __field4 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < InstallConfig > , > (& mut __map) ? ,) ; } __Field :: __field5 => { if _serde :: __private228 :: Option :: is_some (& __field5) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("dist") ,) ; } __field5 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < DistConfig > , > (& mut __map) ? ,) ; } __Field :: __field6 => { if _serde :: __private228 :: Option :: is_some (& __field6) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("llvm") ,) ; } __field6 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < LlvmConfig > , > (& mut __map) ? ,) ; } __Field :: __field7 => { if _serde :: __private228 :: Option :: is_some (& __field7) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("change-id" ,) ,) ; } __field7 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < ChangeIdConfig > , > (& mut __map) ? ,) ; } __Field :: __field8 => { if _serde :: __private228 :: Option :: is_some (& __field8) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("bins") ,) ; } __field8 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < BinsConfig > , > (& mut __map) ? ,) ; } _ => { let _ = _serde :: de :: MapAccess :: next_value :: < _serde :: de :: IgnoredAny , > (& mut __map) ? ; } } } let __field0 = match __field0 { _serde :: __private228 :: Some (__field0) => __field0 , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field1 = match __field1 { _serde :: __private228 :: Some (__field1) => __field1 , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field2 = match __field2 { _serde :: __private228 :: Some (__field2) => __field2 , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field3 = match __field3 { _serde :: __private228 :: Some (__field3) => __field3 , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field4 = match __field4 { _serde :: __private228 :: Some (__field4) => __field4 , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field5 = match __field5 { _serde :: __private228 :: Some (__field5) => __field5 , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field6 = match __field6 { _serde :: __private228 :: Some (__field6) => __field6 , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field7 = match __field7 { _serde :: __private228 :: Some (__field7) => __field7 , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; let __field8 = match __field8 { _serde :: __private228 :: Some (__field8) => __field8 , _serde :: __private228 :: None => { _serde :: __private228 :: Default :: default () } } ; _serde :: __private228 :: Ok (Config { nix : __field0 , rust : __field1 , build : __field2 , env : __field3 , install : __field4 , dist : __field5 , llvm : __field6 , change_id : __field7 , bins : __field8 , }) } } # [doc (hidden)] const FIELDS : & 'static [& 'static str] = & ["nix" , "rust" , "build" , "env" , "install" , "dist" , "llvm" , "change-id" , "bins" ,] ; _serde :: Deserializer :: deserialize_struct (__deserializer , "Config" , FIELDS , __Visitor { marker : _serde :: __private228 :: PhantomData :: < Config > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: clone :: Clone for Config { # [inline] fn clone (& self) -> Config { Config { nix : :: core :: clone :: Clone :: clone (& self . nix) , rust : :: core :: clone :: Clone :: clone (& self . rust) , build : :: core :: clone :: Clone :: clone (& self . build) , env : :: core :: clone :: Clone :: clone (& self . env) , install : :: core :: clone :: Clone :: clone (& self . install) , dist : :: core :: clone :: Clone :: clone (& self . dist) , llvm : :: core :: clone :: Clone :: clone (& self . llvm) , change_id : :: core :: clone :: Clone :: clone (& self . change_id) , bins : :: core :: clone :: Clone :: clone (& self . bins) , } } } pub fn read_config (config_path : & PathBuf , project_root : & PathBuf) -> Result < Config > { let config_content = std :: fs :: read_to_string (config_path) . with_context (| | :: alloc :: __export :: must_use ({ :: alloc :: fmt :: format (format_args ! ("Failed to read config file: {0}" , config_path . display () ,) ,) })) ? ; let mut config : Config = toml :: from_str (& config_content) . with_context (| | :: alloc :: __export :: must_use ({ :: alloc :: fmt :: format (format_args ! ("Failed to parse config file: {0}" , config_path . display () ,) ,) })) ? ; if let Some (bins_config) = & mut config . bins { for (_ , path) in bins_config . paths . iter_mut () { if ! path . is_absolute () { * path = project_root . join (& path) ; } } } Ok (config) } }