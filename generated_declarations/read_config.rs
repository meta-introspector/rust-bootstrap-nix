pub fn read_config (config_path : & PathBuf , project_root : & PathBuf) -> Result < Config > { let config_content = std :: fs :: read_to_string (config_path) . with_context (| | :: alloc :: __export :: must_use ({ :: alloc :: fmt :: format (format_args ! ("Failed to read config file: {0}" , config_path . display () ,) ,) })) ? ; let mut config : Config = toml :: from_str (& config_content) . with_context (| | :: alloc :: __export :: must_use ({ :: alloc :: fmt :: format (format_args ! ("Failed to parse config file: {0}" , config_path . display () ,) ,) })) ? ; if let Some (bins_config) = & mut config . bins { for (_ , path) in bins_config . paths . iter_mut () { if ! path . is_absolute () { * path = project_root . join (& path) ; } } } Ok (config) }