pub mod tomlconfig { use build_helper :: prelude :: * ; use serde :: Deserialize ; use crate :: ChangeIdWrapper ; use crate :: install :: Install ; use crate :: llvm :: Llvm ; use crate :: rust :: Rust ; use std :: collections :: HashMap ; use crate :: tomltarget :: TomlTarget ; use crate :: dist :: Dist ; use crate :: ci :: Ci ; # [doc = " Structure of the `config.toml` file that configuration is read from."] # [doc = ""] # [doc = " This structure uses `Decodable` to automatically decode a TOML configuration"] # [doc = " file into this format, and then this is traversed and written into the above"] # [doc = " `Config` structure."] pub struct Nix { pub nixpkgs_path : Option < PathBuf > , pub rust_overlay_path : Option < PathBuf > , pub rust_bootstrap_nix_path : Option < PathBuf > , pub configuration_nix_path : Option < PathBuf > , pub rust_src_flake_path : Option < PathBuf > , } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for Nix { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field { __field0 , __field1 , __field2 , __field3 , __field4 , __ignore , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { 0u64 => _serde :: __private228 :: Ok (__Field :: __field0) , 1u64 => _serde :: __private228 :: Ok (__Field :: __field1) , 2u64 => _serde :: __private228 :: Ok (__Field :: __field2) , 3u64 => _serde :: __private228 :: Ok (__Field :: __field3) , 4u64 => _serde :: __private228 :: Ok (__Field :: __field4) , _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "nixpkgs_path" => _serde :: __private228 :: Ok (__Field :: __field0) , "rust_overlay_path" => { _serde :: __private228 :: Ok (__Field :: __field1) } "rust_bootstrap_nix_path" => { _serde :: __private228 :: Ok (__Field :: __field2) } "configuration_nix_path" => { _serde :: __private228 :: Ok (__Field :: __field3) } "rust_src_flake_path" => { _serde :: __private228 :: Ok (__Field :: __field4) } _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"nixpkgs_path" => { _serde :: __private228 :: Ok (__Field :: __field0) } b"rust_overlay_path" => { _serde :: __private228 :: Ok (__Field :: __field1) } b"rust_bootstrap_nix_path" => { _serde :: __private228 :: Ok (__Field :: __field2) } b"configuration_nix_path" => { _serde :: __private228 :: Ok (__Field :: __field3) } b"rust_src_flake_path" => { _serde :: __private228 :: Ok (__Field :: __field4) } _ => _serde :: __private228 :: Ok (__Field :: __ignore) , } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < Nix > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = Nix ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct Nix" ,) } # [inline] fn visit_seq < __A > (self , mut __seq : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: SeqAccess < 'de > , { let __field0 = match _serde :: de :: SeqAccess :: next_element :: < Option < PathBuf > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (0usize , & "struct Nix with 5 elements" ,) ,) ; } } ; let __field1 = match _serde :: de :: SeqAccess :: next_element :: < Option < PathBuf > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (1usize , & "struct Nix with 5 elements" ,) ,) ; } } ; let __field2 = match _serde :: de :: SeqAccess :: next_element :: < Option < PathBuf > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (2usize , & "struct Nix with 5 elements" ,) ,) ; } } ; let __field3 = match _serde :: de :: SeqAccess :: next_element :: < Option < PathBuf > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (3usize , & "struct Nix with 5 elements" ,) ,) ; } } ; let __field4 = match _serde :: de :: SeqAccess :: next_element :: < Option < PathBuf > , > (& mut __seq) ? { _serde :: __private228 :: Some (__value) => __value , _serde :: __private228 :: None => { return _serde :: __private228 :: Err (_serde :: de :: Error :: invalid_length (4usize , & "struct Nix with 5 elements" ,) ,) ; } } ; _serde :: __private228 :: Ok (Nix { nixpkgs_path : __field0 , rust_overlay_path : __field1 , rust_bootstrap_nix_path : __field2 , configuration_nix_path : __field3 , rust_src_flake_path : __field4 , }) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __field0 : _serde :: __private228 :: Option < Option < PathBuf > , > = _serde :: __private228 :: None ; let mut __field1 : _serde :: __private228 :: Option < Option < PathBuf > , > = _serde :: __private228 :: None ; let mut __field2 : _serde :: __private228 :: Option < Option < PathBuf > , > = _serde :: __private228 :: None ; let mut __field3 : _serde :: __private228 :: Option < Option < PathBuf > , > = _serde :: __private228 :: None ; let mut __field4 : _serde :: __private228 :: Option < Option < PathBuf > , > = _serde :: __private228 :: None ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __field0 => { if _serde :: __private228 :: Option :: is_some (& __field0) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("nixpkgs_path" ,) ,) ; } __field0 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < PathBuf > , > (& mut __map) ? ,) ; } __Field :: __field1 => { if _serde :: __private228 :: Option :: is_some (& __field1) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("rust_overlay_path" ,) ,) ; } __field1 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < PathBuf > , > (& mut __map) ? ,) ; } __Field :: __field2 => { if _serde :: __private228 :: Option :: is_some (& __field2) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("rust_bootstrap_nix_path" ,) ,) ; } __field2 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < PathBuf > , > (& mut __map) ? ,) ; } __Field :: __field3 => { if _serde :: __private228 :: Option :: is_some (& __field3) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("configuration_nix_path" ,) ,) ; } __field3 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < PathBuf > , > (& mut __map) ? ,) ; } __Field :: __field4 => { if _serde :: __private228 :: Option :: is_some (& __field4) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("rust_src_flake_path" ,) ,) ; } __field4 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < PathBuf > , > (& mut __map) ? ,) ; } _ => { let _ = _serde :: de :: MapAccess :: next_value :: < _serde :: de :: IgnoredAny , > (& mut __map) ? ; } } } let __field0 = match __field0 { _serde :: __private228 :: Some (__field0) => __field0 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("nixpkgs_path") ? } } ; let __field1 = match __field1 { _serde :: __private228 :: Some (__field1) => __field1 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("rust_overlay_path" ,) ? } } ; let __field2 = match __field2 { _serde :: __private228 :: Some (__field2) => __field2 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("rust_bootstrap_nix_path" ,) ? } } ; let __field3 = match __field3 { _serde :: __private228 :: Some (__field3) => __field3 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("configuration_nix_path" ,) ? } } ; let __field4 = match __field4 { _serde :: __private228 :: Some (__field4) => __field4 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("rust_src_flake_path" ,) ? } } ; _serde :: __private228 :: Ok (Nix { nixpkgs_path : __field0 , rust_overlay_path : __field1 , rust_bootstrap_nix_path : __field2 , configuration_nix_path : __field3 , rust_src_flake_path : __field4 , }) } } # [doc (hidden)] const FIELDS : & 'static [& 'static str] = & ["nixpkgs_path" , "rust_overlay_path" , "rust_bootstrap_nix_path" , "configuration_nix_path" , "rust_src_flake_path" ,] ; _serde :: Deserializer :: deserialize_struct (__deserializer , "Nix" , FIELDS , __Visitor { marker : _serde :: __private228 :: PhantomData :: < Nix > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: default :: Default for Nix { # [inline] fn default () -> Nix { Nix { nixpkgs_path : :: core :: default :: Default :: default () , rust_overlay_path : :: core :: default :: Default :: default () , rust_bootstrap_nix_path : :: core :: default :: Default :: default () , configuration_nix_path : :: core :: default :: Default :: default () , rust_src_flake_path : :: core :: default :: Default :: default () , } } } # [serde (deny_unknown_fields , rename_all = "kebab-case")] pub struct TomlConfig { # [serde (flatten)] change_id : ChangeIdWrapper , install : Option < Install > , pub llvm : Option < Llvm > , pub rust : Option < Rust > , target : Option < HashMap < String , TomlTarget > > , dist : Option < Dist > , ci : Option < Ci > , nix : Option < Nix > , profile : Option < String > , stage0_path : Option < PathBuf > , } # [doc (hidden)] # [allow (non_upper_case_globals , unused_attributes , unused_qualifications , clippy :: absolute_paths ,)] const _ : () = { # [allow (unused_extern_crates , clippy :: useless_attribute)] extern crate serde as _serde ; # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for TomlConfig { fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { # [allow (non_camel_case_types)] # [doc (hidden)] enum __Field < 'de > { __field1 , __field2 , __field3 , __field4 , __field5 , __field6 , __field7 , __field8 , __field9 , __other (_serde :: __private228 :: de :: Content < 'de >) , } # [doc (hidden)] struct __FieldVisitor ; # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __FieldVisitor { type Value = __Field < 'de > ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "field identifier" ,) } fn visit_bool < __E > (self , __value : bool ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: Bool (__value) ,) ,) } fn visit_i8 < __E > (self , __value : i8 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: I8 (__value) ,) ,) } fn visit_i16 < __E > (self , __value : i16 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: I16 (__value) ,) ,) } fn visit_i32 < __E > (self , __value : i32 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: I32 (__value) ,) ,) } fn visit_i64 < __E > (self , __value : i64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: I64 (__value) ,) ,) } fn visit_u8 < __E > (self , __value : u8 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: U8 (__value) ,) ,) } fn visit_u16 < __E > (self , __value : u16 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: U16 (__value) ,) ,) } fn visit_u32 < __E > (self , __value : u32 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: U32 (__value) ,) ,) } fn visit_u64 < __E > (self , __value : u64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: U64 (__value) ,) ,) } fn visit_f32 < __E > (self , __value : f32 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: F32 (__value) ,) ,) } fn visit_f64 < __E > (self , __value : f64 ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: F64 (__value) ,) ,) } fn visit_char < __E > (self , __value : char ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: Char (__value) ,) ,) } fn visit_unit < __E > (self ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { _serde :: __private228 :: Ok (__Field :: __other (_serde :: __private228 :: de :: Content :: Unit) ,) } fn visit_str < __E > (self , __value : & str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "install" => _serde :: __private228 :: Ok (__Field :: __field1) , "llvm" => _serde :: __private228 :: Ok (__Field :: __field2) , "rust" => _serde :: __private228 :: Ok (__Field :: __field3) , "target" => _serde :: __private228 :: Ok (__Field :: __field4) , "dist" => _serde :: __private228 :: Ok (__Field :: __field5) , "ci" => _serde :: __private228 :: Ok (__Field :: __field6) , "nix" => _serde :: __private228 :: Ok (__Field :: __field7) , "profile" => _serde :: __private228 :: Ok (__Field :: __field8) , "stage0-path" => _serde :: __private228 :: Ok (__Field :: __field9) , _ => { let __value = _serde :: __private228 :: de :: Content :: String (_serde :: __private228 :: ToString :: to_string (__value) ,) ; _serde :: __private228 :: Ok (__Field :: __other (__value)) } } } fn visit_bytes < __E > (self , __value : & [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"install" => _serde :: __private228 :: Ok (__Field :: __field1) , b"llvm" => _serde :: __private228 :: Ok (__Field :: __field2) , b"rust" => _serde :: __private228 :: Ok (__Field :: __field3) , b"target" => _serde :: __private228 :: Ok (__Field :: __field4) , b"dist" => _serde :: __private228 :: Ok (__Field :: __field5) , b"ci" => _serde :: __private228 :: Ok (__Field :: __field6) , b"nix" => _serde :: __private228 :: Ok (__Field :: __field7) , b"profile" => _serde :: __private228 :: Ok (__Field :: __field8) , b"stage0-path" => _serde :: __private228 :: Ok (__Field :: __field9) , _ => { let __value = _serde :: __private228 :: de :: Content :: ByteBuf (__value . to_vec () ,) ; _serde :: __private228 :: Ok (__Field :: __other (__value)) } } } fn visit_borrowed_str < __E > (self , __value : & 'de str ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { "install" => _serde :: __private228 :: Ok (__Field :: __field1) , "llvm" => _serde :: __private228 :: Ok (__Field :: __field2) , "rust" => _serde :: __private228 :: Ok (__Field :: __field3) , "target" => _serde :: __private228 :: Ok (__Field :: __field4) , "dist" => _serde :: __private228 :: Ok (__Field :: __field5) , "ci" => _serde :: __private228 :: Ok (__Field :: __field6) , "nix" => _serde :: __private228 :: Ok (__Field :: __field7) , "profile" => _serde :: __private228 :: Ok (__Field :: __field8) , "stage0-path" => _serde :: __private228 :: Ok (__Field :: __field9) , _ => { let __value = _serde :: __private228 :: de :: Content :: Str (__value ,) ; _serde :: __private228 :: Ok (__Field :: __other (__value)) } } } fn visit_borrowed_bytes < __E > (self , __value : & 'de [u8] ,) -> _serde :: __private228 :: Result < Self :: Value , __E > where __E : _serde :: de :: Error , { match __value { b"install" => _serde :: __private228 :: Ok (__Field :: __field1) , b"llvm" => _serde :: __private228 :: Ok (__Field :: __field2) , b"rust" => _serde :: __private228 :: Ok (__Field :: __field3) , b"target" => _serde :: __private228 :: Ok (__Field :: __field4) , b"dist" => _serde :: __private228 :: Ok (__Field :: __field5) , b"ci" => _serde :: __private228 :: Ok (__Field :: __field6) , b"nix" => _serde :: __private228 :: Ok (__Field :: __field7) , b"profile" => _serde :: __private228 :: Ok (__Field :: __field8) , b"stage0-path" => _serde :: __private228 :: Ok (__Field :: __field9) , _ => { let __value = _serde :: __private228 :: de :: Content :: Bytes (__value ,) ; _serde :: __private228 :: Ok (__Field :: __other (__value)) } } } } # [automatically_derived] impl < 'de > _serde :: Deserialize < 'de > for __Field < 'de > { # [inline] fn deserialize < __D > (__deserializer : __D ,) -> _serde :: __private228 :: Result < Self , __D :: Error > where __D : _serde :: Deserializer < 'de > , { _serde :: Deserializer :: deserialize_identifier (__deserializer , __FieldVisitor ,) } } # [doc (hidden)] struct __Visitor < 'de > { marker : _serde :: __private228 :: PhantomData < TomlConfig > , lifetime : _serde :: __private228 :: PhantomData < & 'de () > , } # [automatically_derived] impl < 'de > _serde :: de :: Visitor < 'de > for __Visitor < 'de > { type Value = TomlConfig ; fn expecting (& self , __formatter : & mut _serde :: __private228 :: Formatter ,) -> _serde :: __private228 :: fmt :: Result { _serde :: __private228 :: Formatter :: write_str (__formatter , "struct TomlConfig" ,) } # [inline] fn visit_map < __A > (self , mut __map : __A ,) -> _serde :: __private228 :: Result < Self :: Value , __A :: Error > where __A : _serde :: de :: MapAccess < 'de > , { let mut __field1 : _serde :: __private228 :: Option < Option < Install > , > = _serde :: __private228 :: None ; let mut __field2 : _serde :: __private228 :: Option < Option < Llvm > > = _serde :: __private228 :: None ; let mut __field3 : _serde :: __private228 :: Option < Option < Rust > > = _serde :: __private228 :: None ; let mut __field4 : _serde :: __private228 :: Option < Option < HashMap < String , TomlTarget > > , > = _serde :: __private228 :: None ; let mut __field5 : _serde :: __private228 :: Option < Option < Dist > > = _serde :: __private228 :: None ; let mut __field6 : _serde :: __private228 :: Option < Option < Ci > > = _serde :: __private228 :: None ; let mut __field7 : _serde :: __private228 :: Option < Option < Nix > > = _serde :: __private228 :: None ; let mut __field8 : _serde :: __private228 :: Option < Option < String > > = _serde :: __private228 :: None ; let mut __field9 : _serde :: __private228 :: Option < Option < PathBuf > , > = _serde :: __private228 :: None ; let mut __collect = _serde :: __private228 :: Vec :: < _serde :: __private228 :: Option < (_serde :: __private228 :: de :: Content , _serde :: __private228 :: de :: Content ,) , > , > :: new () ; while let _serde :: __private228 :: Some (__key) = _serde :: de :: MapAccess :: next_key :: < __Field , > (& mut __map) ? { match __key { __Field :: __field1 => { if _serde :: __private228 :: Option :: is_some (& __field1) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("install" ,) ,) ; } __field1 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < Install > , > (& mut __map) ? ,) ; } __Field :: __field2 => { if _serde :: __private228 :: Option :: is_some (& __field2) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("llvm") ,) ; } __field2 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < Llvm > , > (& mut __map) ? ,) ; } __Field :: __field3 => { if _serde :: __private228 :: Option :: is_some (& __field3) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("rust") ,) ; } __field3 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < Rust > , > (& mut __map) ? ,) ; } __Field :: __field4 => { if _serde :: __private228 :: Option :: is_some (& __field4) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("target") ,) ; } __field4 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < HashMap < String , TomlTarget > > , > (& mut __map) ? ,) ; } __Field :: __field5 => { if _serde :: __private228 :: Option :: is_some (& __field5) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("dist") ,) ; } __field5 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < Dist > , > (& mut __map) ? ,) ; } __Field :: __field6 => { if _serde :: __private228 :: Option :: is_some (& __field6) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("ci") ,) ; } __field6 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < Ci > > (& mut __map) ? ,) ; } __Field :: __field7 => { if _serde :: __private228 :: Option :: is_some (& __field7) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("nix") ,) ; } __field7 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < Nix > , > (& mut __map) ? ,) ; } __Field :: __field8 => { if _serde :: __private228 :: Option :: is_some (& __field8) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("profile" ,) ,) ; } __field8 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < String > , > (& mut __map) ? ,) ; } __Field :: __field9 => { if _serde :: __private228 :: Option :: is_some (& __field9) { return _serde :: __private228 :: Err (< __A :: Error as _serde :: de :: Error > :: duplicate_field ("stage0-path" ,) ,) ; } __field9 = _serde :: __private228 :: Some (_serde :: de :: MapAccess :: next_value :: < Option < PathBuf > , > (& mut __map) ? ,) ; } __Field :: __other (__name) => { __collect . push (_serde :: __private228 :: Some ((__name , _serde :: de :: MapAccess :: next_value_seed (& mut __map , _serde :: __private228 :: de :: ContentVisitor :: new () ,) ? ,)) ,) ; } } } let __field1 = match __field1 { _serde :: __private228 :: Some (__field1) => __field1 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("install") ? } } ; let __field2 = match __field2 { _serde :: __private228 :: Some (__field2) => __field2 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("llvm") ? } } ; let __field3 = match __field3 { _serde :: __private228 :: Some (__field3) => __field3 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("rust") ? } } ; let __field4 = match __field4 { _serde :: __private228 :: Some (__field4) => __field4 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("target") ? } } ; let __field5 = match __field5 { _serde :: __private228 :: Some (__field5) => __field5 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("dist") ? } } ; let __field6 = match __field6 { _serde :: __private228 :: Some (__field6) => __field6 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("ci") ? } } ; let __field7 = match __field7 { _serde :: __private228 :: Some (__field7) => __field7 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("nix") ? } } ; let __field8 = match __field8 { _serde :: __private228 :: Some (__field8) => __field8 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("profile") ? } } ; let __field9 = match __field9 { _serde :: __private228 :: Some (__field9) => __field9 , _serde :: __private228 :: None => { _serde :: __private228 :: de :: missing_field ("stage0-path") ? } } ; let __field0 : ChangeIdWrapper = _serde :: de :: Deserialize :: deserialize (_serde :: __private228 :: de :: FlatMapDeserializer (& mut __collect , _serde :: __private228 :: PhantomData ,) ,) ? ; if let _serde :: __private228 :: Some (_serde :: __private228 :: Some ((__key , _)) ,) = __collect . into_iter () . filter (_serde :: __private228 :: Option :: is_some) . next () { if let _serde :: __private228 :: Some (__key) = _serde :: __private228 :: de :: content_as_str (& __key ,) { return _serde :: __private228 :: Err (_serde :: de :: Error :: custom (format_args ! ("unknown field `{0}`" , & __key) ,) ,) ; } else { return _serde :: __private228 :: Err (_serde :: de :: Error :: custom (format_args ! ("unexpected map key") ,) ,) ; } } _serde :: __private228 :: Ok (TomlConfig { change_id : __field0 , install : __field1 , llvm : __field2 , rust : __field3 , target : __field4 , dist : __field5 , ci : __field6 , nix : __field7 , profile : __field8 , stage0_path : __field9 , }) } } _serde :: Deserializer :: deserialize_map (__deserializer , __Visitor { marker : _serde :: __private228 :: PhantomData :: < TomlConfig > , lifetime : _serde :: __private228 :: PhantomData , } ,) } } } ; # [automatically_derived] impl :: core :: default :: Default for TomlConfig { # [inline] fn default () -> TomlConfig { TomlConfig { change_id : :: core :: default :: Default :: default () , install : :: core :: default :: Default :: default () , llvm : :: core :: default :: Default :: default () , rust : :: core :: default :: Default :: default () , target : :: core :: default :: Default :: default () , dist : :: core :: default :: Default :: default () , ci : :: core :: default :: Default :: default () , nix : :: core :: default :: Default :: default () , profile : :: core :: default :: Default :: default () , stage0_path : :: core :: default :: Default :: default () , } } } }