# [doc = " A vector generic mask for the low and high nybbles in a set of patterns."] # [doc = " Each 8-bit lane `j` in a vector corresponds to a bitset where the `i`th bit"] # [doc = " is set if and only if the nybble `j` is in the bucket `i` at a particular"] # [doc = " position."] # [doc = ""] # [doc = " This is slightly tweaked dependending on whether Slim or Fat Teddy is being"] # [doc = " used. For Slim Teddy, the bitsets in the lower half are the same as the"] # [doc = " bitsets in the higher half, so that we can search `V::BYTES` bytes at a"] # [doc = " time. (Remember, the nybbles in the haystack are used as indices into these"] # [doc = " masks, and 256-bit shuffles only operate on 128-bit lanes.)"] # [doc = ""] # [doc = " For Fat Teddy, the bitsets are not repeated, but instead, the high half"] # [doc = " bits correspond to an addition 8 buckets. So that a bitset `00100010` has"] # [doc = " buckets 1 and 5 set if it's in the lower half, but has buckets 9 and 13 set"] # [doc = " if it's in the higher half."] struct Mask < V > { lo : V , hi : V , }