pub mod git_info { use std :: fmt :: Debug ; pub struct GitInfo { pub repo_url : String , pub branch : String , pub commit_hash : String , } # [automatically_derived] impl :: core :: fmt :: Debug for GitInfo { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { :: core :: fmt :: Formatter :: debug_struct_field3_finish (f , "GitInfo" , "repo_url" , & self . repo_url , "branch" , & self . branch , "commit_hash" , & & self . commit_hash ,) } } # [automatically_derived] impl :: core :: clone :: Clone for GitInfo { # [inline] fn clone (& self) -> GitInfo { GitInfo { repo_url : :: core :: clone :: Clone :: clone (& self . repo_url) , branch : :: core :: clone :: Clone :: clone (& self . branch) , commit_hash : :: core :: clone :: Clone :: clone (& self . commit_hash) , } } } pub enum GitDetails { Info (GitInfo) , Error (String) , Unknown , } # [automatically_derived] impl :: core :: fmt :: Debug for GitDetails { # [inline] fn fmt (& self , f : & mut :: core :: fmt :: Formatter) -> :: core :: fmt :: Result { match self { GitDetails :: Info (__self_0) => { :: core :: fmt :: Formatter :: debug_tuple_field1_finish (f , "Info" , & __self_0 ,) } GitDetails :: Error (__self_0) => { :: core :: fmt :: Formatter :: debug_tuple_field1_finish (f , "Error" , & __self_0 ,) } GitDetails :: Unknown => { :: core :: fmt :: Formatter :: write_str (f , "Unknown") } } } } # [automatically_derived] impl :: core :: clone :: Clone for GitDetails { # [inline] fn clone (& self) -> GitDetails { match self { GitDetails :: Info (__self_0) => { GitDetails :: Info (:: core :: clone :: Clone :: clone (__self_0)) } GitDetails :: Error (__self_0) => { GitDetails :: Error (:: core :: clone :: Clone :: clone (__self_0)) } GitDetails :: Unknown => GitDetails :: Unknown , } } } pub trait GitInfoTrait : Send + Sync + Debug { fn git_repo (& self) -> Option < & str > ; fn git_path (& self) -> Option < & str > ; fn our_fork_github (& self) -> Option < & str > ; fn our_branch (& self) -> Option < & str > ; } impl GitInfoTrait for GitDetails { fn git_repo (& self) -> Option < & str > { match self { GitDetails :: Info (info) => Some (& info . repo_url) , _ => None , } } fn git_path (& self) -> Option < & str > { None } fn our_fork_github (& self) -> Option < & str > { None } fn our_branch (& self) -> Option < & str > { match self { GitDetails :: Info (info) => Some (& info . branch) , _ => None , } } } }