use std::collections::HashSet;
use split_expanded_lib::{DeclarationItem};

# [doc = " The common elements of all \"slim\" and \"fat\" Teddy search implementations."] # [doc = ""] # [doc = " Essentially, this contains the patterns and the buckets. Namely, it"] # [doc = " contains enough to implement the verification step after candidates are"] # [doc = " identified via the shuffle masks."] # [doc = ""] # [doc = " It is generic over the number of buckets used. In general, the number of"] # [doc = " buckets is either 8 (for \"slim\" Teddy) or 16 (for \"fat\" Teddy). The generic"] # [doc = " parameter isn't really meant to be instantiated for any value other than"] # [doc = " 8 or 16, although it is technically possible. The main hiccup is that there"] # [doc = " is some bit-shifting done in the critical part of verification that could"] # [doc = " be quite expensive if `N` is not a multiple of 2."] struct Teddy < const BUCKETS : usize > { # [doc = " The patterns we are searching for."] # [doc = ""] # [doc = " A pattern string can be found by its `PatternID`."] patterns : Arc < Patterns > , # [doc = " The allocation of patterns in buckets. This only contains the IDs of"] # [doc = " patterns. In order to do full verification, callers must provide the"] # [doc = " actual patterns when using Teddy."] buckets : [Vec < PatternID > ; BUCKETS] , }