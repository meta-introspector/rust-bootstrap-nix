use std::collections::HashSet;
use split_expanded_lib::{DeclarationItem};

pub mod ast_stats { pub fn generate_ast_statistics_code (stats : & pipeline_traits :: AstStatistics ,) -> String { let mut code = String :: new () ; code . push_str ("use std::collections::HashMap;\n") ; code . push_str ("use once_cell::sync::Lazy;\n") ; code . push_str ("use pipeline_traits::AstStatistics;\n\n") ; code . push_str ("pub static AST_STATISTICS: Lazy<AstStatistics> = Lazy::new(|| {\n" ,) ; code . push_str ("    let mut node_type_counts = HashMap::new();\n") ; for (node_type , count) in & stats . node_type_counts { code . push_str (& :: alloc :: __export :: must_use ({ :: alloc :: fmt :: format (format_args ! ("    node_type_counts.insert(\"{0}\".to_string(), {1});\n" , node_type , count ,) ,) }) ,) ; } code . push_str ("\n") ; code . push_str ("\n") ; code . push_str ("\n") ; code . push_str ("\n") ; code . push_str ("\n") ; code . push_str ("\n") ; code . push_str ("\n") ; code . push_str ("    AstStatistics {\n") ; code . push_str ("        node_type_counts,\n") ; code . push_str ("        // line_stats,\n") ; code . push_str ("        // column_stats,\n") ; code . push_str ("        // processing_time_stats,\n") ; code . push_str ("        // rust_version_counts,\n") ; code . push_str ("        // analyzer_version_counts,\n") ; code . push_str ("        // snippet_length_stats,\n") ; code . push_str ("    }\n") ; code . push_str ("});\n") ; code } }