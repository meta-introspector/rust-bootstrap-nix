use std::collections::HashSet;
use split_expanded_lib::{DeclarationItem};

pub fn test_generate_prelude_creates_file () -> Result < () > { let dir = tempdir () ? ; let src_dir = dir . path () . join ("src") ; fs :: create_dir (& src_dir) ? ; let prelude_content = "// Test prelude content" ; generate_prelude :: generate_prelude (& src_dir , prelude_content , false , false) ? ; let prelude_path = src_dir . join ("prelude.rs") ; if ! prelude_path . exists () { :: core :: panicking :: panic ("assertion failed: prelude_path.exists()") } match (& fs :: read_to_string (& prelude_path) ? , & prelude_content) { (left_val , right_val) => { if ! (* left_val == * right_val) { let kind = :: core :: panicking :: AssertKind :: Eq ; :: core :: panicking :: assert_failed (kind , & * left_val , & * right_val , :: core :: option :: Option :: None ,) ; } } } ; Ok (()) }