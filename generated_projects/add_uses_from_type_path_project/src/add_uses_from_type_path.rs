use std::collections::HashSet;
use split_expanded_lib::{DeclarationItem};

fn add_uses_from_type_path (type_path : & syn :: TypePath , uses : & mut HashSet < & 'static str > ,) { for segment in type_path . path . segments . iter () { let ident_str = segment . ident . to_string () ; match ident_str . as_str () { "HashMap" => { uses . insert ("use std::collections::HashMap;\n") ; } "PathBuf" => { uses . insert ("use std::path::PathBuf;\n") ; } "String" => { uses . insert ("use std::string::String;\n") ; } "syn" => { uses . insert ("use syn::{ItemConst, ItemStruct};\n") ; uses . insert ("use syn::visit::Visit;\n") ; } "clap" => { uses . insert ("use clap::{Parser, Args, Command};\n") ; } "serde" => { uses . insert ("use serde::{Serialize, Deserialize};\n") ; } _ => { } } if let syn :: PathArguments :: AngleBracketed (angle_args) = & segment . arguments { for arg in angle_args . args . iter () { if let syn :: GenericArgument :: Type (syn :: Type :: Path (inner_type_path) ,) = arg { add_uses_from_type_path (inner_type_path , uses) ; } } } } }