use std::collections::HashSet;
use split_expanded_lib::{DeclarationItem};

pub fn generate_step1_flake (nixpkgs_ref : & str , rust_overlay_ref : & str , rust_src_flake_ref : & str , rust_bootstrap_nix_ref : & str , rust_src_flake_path : & str ,) -> String { :: alloc :: __export :: must_use ({ :: alloc :: fmt :: format (format_args ! ("{{\n  description = \"Step 1: Generate config.toml\";\n\n  inputs = {{\n    nixpkgs.url = \"github:meta-introspector/nixpkgs?ref={0}\";\n    rust-overlay.url = \"github:meta-introspector/rust-overlay?ref={1}\";\n    rustSrcFlake.url = \"github:meta-introspector/rust?ref={2}\";\n    rust-bootstrap-nix.url = \"github:meta-introspector/rust-bootstrap-nix?ref={3}\";\n  }};\n\n  outputs = {{ self, nixpkgs, rust-overlay, rustSrcFlake, rust-bootstrap-nix, ... }}@inputs:\n    let\n      system = \"aarch64-linux\";\n      pkgs = import nixpkgs {{\n        inherit system;\n        overlays = [ rust-overlay.overlays.default ];\n      }};\n    in\n    {{\n      packages.aarch64-linux.default = pkgs.stdenv.mkDerivation {{\n        name = \"generate-config\";\n        src = rust-bootstrap-nix;\n        buildInputs = [ pkgs.cargo pkgs.rustc pkgs.cacert pkgs.nix ];\n        buildPhase = \'\'\'\n          export CARGO_HOME=$(mktemp -d)\n          cargo run --bin bootstrap-config-generator -- --project-root . --rust-src-flake-path {4} --version 1.84.1 --target aarch64-unknown-linux-gnu --stage 0\n        \'\'\';\n        installPhase = \'\'\'\n          mkdir -p $out\n          cp config.toml $out/config.toml\n        \'\'\';\n      }};\n    }};\n}}\n" , nixpkgs_ref , rust_overlay_ref , rust_src_flake_ref , rust_bootstrap_nix_ref , rust_src_flake_path ,) ,) }) }