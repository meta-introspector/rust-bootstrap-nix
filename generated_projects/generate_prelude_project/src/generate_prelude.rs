use std::collections::HashSet;
use split_expanded_lib::{DeclarationItem};

pub mod generate_prelude { use anyhow :: Result ; use std :: fs ; use std :: path :: Path ; # [doc = " Generates the `prelude.rs` file for a crate."] pub fn generate_prelude (src_dir : & Path , prelude_content : & str , dry_run : bool , force : bool ,) -> Result < () > { { :: std :: io :: _print (format_args ! ("  -> Entering generate_prelude for src_dir: {0}\n" , src_dir . display () ,) ,) ; } ; let prelude_path = src_dir . join ("prelude.rs") ; if dry_run { { :: std :: io :: _print (format_args ! ("[DRY RUN] Would generate prelude file: {0}\n---\n{1}---\n" , prelude_path . display () , prelude_content ,) ,) ; } ; } else { if prelude_path . exists () && ! force { { :: std :: io :: _print (format_args ! ("  -> Skipping prelude file generation for {0} (file exists, use --force to overwrite).\n" , prelude_path . display () ,) ,) ; } ; } else { { :: std :: io :: _print (format_args ! ("  -> Generating prelude file: {0}\n" , prelude_path . display () ,) ,) ; } ; { :: std :: io :: _print (format_args ! ("    -> Writing prelude content to: {0}\n" , prelude_path . display () ,) ,) ; } ; fs :: write (& prelude_path , prelude_content) ? ; } } Ok (()) } }