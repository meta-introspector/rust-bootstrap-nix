use std::collections::HashSet;
use split_expanded_lib::{DeclarationItem};

# [doc = " Finds the nearest merge commit by comparing the local `HEAD` with the upstream branch's state."] # [doc = " To work correctly, the upstream remote must be properly configured using `git remote add <name> <url>`."] # [doc = " In most cases `get_closest_merge_commit` is the function you are looking for as it doesn't require remote"] # [doc = " to be configured."] fn git_upstream_merge_base (config : & GitConfig < '_ > , git_dir : Option < & Path > ,) -> Result < String , String > { let updated_master = updated_master_branch (config , git_dir) ? ; let mut git = Command :: new ("git") ; if let Some (git_dir) = git_dir { git . current_dir (git_dir) ; } Ok (output_result (git . arg ("merge-base") . arg (& updated_master) . arg ("HEAD")) ? . trim () . to_owned () ,) }